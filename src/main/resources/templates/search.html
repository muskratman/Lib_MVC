<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Поиск</title>
</head>


<body>
<div th:replace="~{fragments :: navbar}">NAVBAR</div>
<div th:replace="~{fragments :: header('Поиск Книг')}">HEADER</div>


<a>Введите начальные буквы названия книги</a>

<form th:method="GET" th:action="@{/search}">
    <label for="search-input">Введите поисковой запрос</label>
    <input type="text" name="search_query" id="search-input" th:value="${query}" placeholder="Поиск книг"/>
    <br>
    <input type="submit" value="Искать"/>
</form>


<div th:if="${books}">
    <div th:if="!${books.isEmpty()}">
        <br>
        <br>
        <span>Книги:</span>
    </div>

    <div th:each="book : ${books}">

        <a th:href="@{/books/{id}(id=${book.getId()})}"
           th:text="${book.getTitle()} + ', '
              + ${book.getAuthor().getFullName()} + ', '
              + ${book.getYearOfPublishing()}">
        </a>
    </div>
</div>



<div th:if="${authors}">
    <div th:if="!${authors.isEmpty()}">
        <br>
        <hr>
        <span>Авторы:</span>
    </div>

    <div th:each="author : ${authors}">

        <a th:href="@{/authors/{id}(id=${author.getId()})}"
           th:text="${author.getFullName()} + ', '
                    + ${author.getYearOfBirth()} + ', '
                    + ${author.getCountry().getName()}">
        </a>
    </div>
</div>


<div th:replace="~{fragments :: footer}">FOOTER</div>
</body>
</html>